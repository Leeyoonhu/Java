<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace = "org.conan.mapper.BoardMapper">
<!-- 사용할 매퍼 이름(다른 패키지에있으므로 패키지명도 적어줘야함) -->
   <select id = "getList" resultType = "org.conan.domain.BoardVO">
   <!-- 메서드명, 반환 타입(다른 패키지에있으므로 패키지명도 적어줘야함) -->
      select * from tbl_board where bno > 0
      <!-- sql문 -->
   </select>
   
   <insert id="insert">
   	  insert into tbl_board(title, content, writer)
   	  values(#{title}, #{content}, #{writer})
   	  <!-- 
	   	  PreparedStatement 에서 set(?, ?, ?)의 역할
	   	  ? ? ? 에 getTitle, getContent, getWriter 한거라서 beans 필드이름이 table 열이름과 동일하면 편함
   	   -->
   </insert>
   
   <insert id="inserSelectKey">
   	insert into tbl_board(title, content, writer)
   	values(#{title}, #{content}, #{writer})
   	<!-- insert 후에 bno를 보기위해 selectkey -->
   	<selectKey resultType="long" keyProperty="bno" order="AFTER">
   	<!-- keyProperty (db의 열속성) -->
   		SELECT LAST_INSERT_ID()
   	</selectKey>
   </insert>
   
   <select id="read" resultType="org.conan.domain.BoardVO">
    select * from tbl_board where bno=#{bno}
   </select>
   
   <delete id="delete">
   	delete from tbl_board where bno=#{bno}
   </delete>
   
   <update id="update">
   	update tbl_board
   	set title=#{title},
   	content=#{content},
   	writer=#{writer},
   	updateDate=now()
   	where bno=#{bno}
   </update>
</mapper>